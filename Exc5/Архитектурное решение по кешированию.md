##Кэширование

Имеет смысл, прежде всего кэшировать данные, редко меняющиеся. Отображение контентных страниц сайта, данных пользователя, истории заказов (для пользователя) в рамках системы shop.

В других системах это могут быть также данные не являющиеся критичными или даже данные по заказам для закрытых периодов, если мы говорим о какой-то статистике или отчетах.

##Мотивация

1. Снижение нагрузки на БД и каналы связи между сервисами - потенциально экономия на ресурсах инфраструктуры.
2. Повышение customer satisfaction, ведь данные отдаются быстрее.

Элементы, включаемые в кэширование.
1. Кэш фронтовых компонентом, там где это допустимо (см п.1)
2. Кэш запросов в БД там где это допустимо (для редко меняющихся данных, см п.1)
3. Кэш статики (файлов, изображений) там, где это допустимо.

##Предлагаемое решение
Почему бы не использовать комбинацию из клиентского и серверного решения. На первых парах акцент можно сделать на клиентское, так как на бэке мы собираем логи и трейсинги и нам важно наблюдать чистые, некэшированные данные. 

Если использовать кэширование для данных пользователей можно использовать Write-Through, так как данные редко обновляются и перезаписываются. 
Если использовать кэширование для заказов закрытых периодов, то можно использовать также Write-Through, так как данные там не обновляются вообще. 

Cache-Asideи Refresh-Ahead не подойдут, так как нам критична актуальность данных (например для фин отчетов)

##Диаграмма

https://drive.google.com/file/d/1rZGc86xhERWGXCnXUu_o3UW9u_66RUCl/view?usp=drive_link

##Cтратегия инвалидации

Для заказов закрытых периодов можно использовать временную, так как для отчетов чаще использую данные недавних периодов (месяц, квартал, год), а потом они устаревают. В рамках предлагаемой выше стратегии в остальных случаях также подойдет инвалидация по времени.

